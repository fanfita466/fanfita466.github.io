<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Manager Pro - Control de Hotmail Empresarial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== ESTILOS COMPLETOS ===== */
        :root {
            --primary: #0078d4; /* Azul de Microsoft/Hotmail */
            --secondary: #00bcf2;
            --success: #107c10;
            --danger: #d13438;
            --warning: #ffb900;
            --dark: #201f1e;
            --light: #f3f2f1;
            --sidebar: #2d2c2c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0078d4 0%, #00bcf2 100%);
            min-height: 100vh;
        }
        
        /* ===== LOGIN SCREEN ===== */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0078d4 0%, #00bcf2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .login-container {
            background: white;
            border-radius: 20px;
            padding: 50px 40px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            text-align: center;
        }
        
        .login-logo i {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .password-input {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1rem;
        }
        
        .login-btn {
            width: 100%;
            padding: 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        /* ===== DASHBOARD ===== */
        .dashboard {
            display: none;
            width: 100%;
            min-height: 100vh;
            background: white;
        }
        
        .dashboard-header {
            background: var(--dark);
            color: white;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .brand i {
            font-size: 2rem;
            color: var(--secondary);
        }
        
        .sidebar {
            width: 250px;
            background: var(--sidebar);
            color: white;
            padding: 20px 0;
        }
        
        .nav-item {
            padding: 15px 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .nav-item:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .main-content {
            flex: 1;
            padding: 30px;
            background: var(--light);
        }
        
        /* ===== ESTILOS PARA CORREOS HOTMAIL ===== */
        .hotmail-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid #e1dfdd;
        }
        
        .hotmail-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }
        
        .hotmail-logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        .inbox-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .email-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e1dfdd;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .email-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }
        
        .email-sender {
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 5px;
        }
        
        .email-subject {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .email-preview {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .email-date {
            color: #999;
            font-size: 0.8rem;
            text-align: right;
        }
        
        /* ===== BOTONES ===== */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        /* ===== ESTILOS RESPONSIVOS ===== */
        @media (max-width: 768px) {
            .dashboard-header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .inbox-grid {
                grid-template-columns: 1fr;
            }
            
            .login-container {
                padding: 30px 20px;
            }
        }
        
        /* ===== ANIMACIONES ===== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <!-- PANTALLA DE LOGIN -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-logo">
                <i class="fab fa-microsoft"></i>
                <h1>Hotmail Manager Pro</h1>
                <p>Gestión Segura de Correos Empresariales</p>
            </div>
            
            <input type="password" 
                   id="passwordInput" 
                   class="password-input" 
                   placeholder="Ingresa la clave de acceso (30305090)"
                   onkeypress="handleEnterKey(event)">
            
            <button class="login-btn" onclick="checkPassword()">
                <i class="fas fa-sign-in-alt"></i> Acceder al Sistema
            </button>
            
            <div style="color: #666; font-size: 0.9rem; margin-top: 20px;">
                <i class="fas fa-lock"></i> Sistema 100% local - Sin servidores externos
            </div>
        </div>
    </div>
    
    <!-- DASHBOARD PRINCIPAL -->
    <div class="dashboard" id="dashboard">
        <!-- Header -->
        <div class="dashboard-header">
            <div class="brand">
                <i class="fab fa-microsoft"></i>
                <div>
                    <h1>Hotmail Manager Pro</h1>
                    <p>Control Empresarial de Correos</p>
                </div>
            </div>
            <div>
                <button onclick="logout()" style="background: var(--danger); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                </button>
            </div>
        </div>
        
        <div style="display: flex; min-height: calc(100vh - 80px);">
            <!-- Sidebar -->
            <div class="sidebar">
                <a href="#dashboard" class="nav-item" onclick="showSection('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a href="#upload" class="nav-item" onclick="showSection('upload')">
                    <i class="fas fa-file-upload"></i>
                    Cargar Hotmails
                </a>
                <a href="#inbox" class="nav-item" onclick="showSection('inbox')">
                    <i class="fas fa-inbox"></i>
                    Bandeja de Entrada
                </a>
                <a href="#documents" class="nav-item" onclick="showSection('documents')">
                    <i class="fas fa-file-invoice"></i>
                    Documentos
                </a>
                <a href="#settings" class="nav-item" onclick="showSection('settings')">
                    <i class="fas fa-cog"></i>
                    Configuración
                </a>
            </div>
            
            <!-- Contenido Principal -->
            <div class="main-content" id="mainContent">
                <!-- Dashboard Principal -->
                <div id="dashboardSection">
                    <h2 style="color: var(--dark); margin-bottom: 30px;">
                        <i class="fas fa-home"></i> Panel de Control
                    </h2>
                    
                    <div class="hotmail-section">
                        <div class="hotmail-header">
                            <div class="hotmail-logo">
                                <i class="fab fa-microsoft"></i>
                            </div>
                            <div>
                                <h3>Gestión de Hotmails Empresariales</h3>
                                <p style="color: #666;">Controla tus correos Hotmail/Outlook de forma segura</p>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="showSection('upload')">
                                <i class="fas fa-file-import"></i> Cargar Archivo TXT
                            </button>
                            <button class="btn btn-success" onclick="loadSampleData()">
                                <i class="fas fa-download"></i> Cargar Datos de Ejemplo
                            </button>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 30px;">
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border: 1px solid #e1dfdd;">
                                <div style="font-size: 2.5rem; font-weight: bold; color: var(--primary);" id="totalAccounts">0</div>
                                <div style="color: #666;">Hotmails Cargados</div>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border: 1px solid #e1dfdd;">
                                <div style="font-size: 2.5rem; font-weight: bold; color: var(--success);" id="verifiedAccounts">0</div>
                                <div style="color: #666;">Cuentas Verificadas</div>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border: 1px solid #e1dfdd;">
                                <div style="font-size: 2.5rem; font-weight: bold; color: var(--warning);" id="unreadEmails">0</div>
                                <div style="color: #666;">Correos no Leídos</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Sección de Carga -->
                <div id="uploadSection" style="display: none;">
                    <h2 style="color: var(--dark); margin-bottom: 30px;">
                        <i class="fas fa-file-upload"></i> Cargar Hotmails
                    </h2>
                    
                    <div class="hotmail-section">
                        <h3 style="margin-bottom: 20px;">Formato de Archivo TXT</h3>
                        <p style="margin-bottom: 20px; color: #666;">
                            Crea un archivo TXT con el siguiente formato (uno por línea):
                        </p>
                        
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; font-family: monospace;">
                            usuario@hotmail.com|contraseña123<br>
                            empresa@outlook.com|clave456<br>
                            admin@live.com|password789
                        </div>
                        
                        <input type="file" id="fileInput" accept=".txt" style="display: none;" onchange="handleFileUpload(event)">
                        
                        <div style="border: 2px dashed #ddd; border-radius: 10px; padding: 60px 20px; text-align: center; margin: 30px 0; cursor: pointer;" 
                             onclick="document.getElementById('fileInput').click()">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: #666; margin-bottom: 15px;"></i>
                            <h4>Arrastra tu archivo TXT aquí o haz clic para seleccionar</h4>
                            <p style="color: #666;">Solo archivos .txt</p>
                        </div>
                        
                        <div id="uploadStatus" style="display: none; background: #e7f5ff; padding: 15px; border-radius: 10px; margin-top: 20px;">
                            <i class="fas fa-spinner fa-spin"></i> Procesando archivo...
                        </div>
                    </div>
                </div>
                
                <!-- Sección de Bandeja -->
                <div id="inboxSection" style="display: none;">
                    <h2 style="color: var(--dark); margin-bottom: 30px;">
                        <i class="fas fa-inbox"></i> Bandeja de Entrada
                    </h2>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="checkAllHotmails()">
                            <i class="fas fa-sync"></i> Verificar Todos los Hotmails
                        </button>
                        <button class="btn btn-success" onclick="loadInbox()">
                            <i class="fas fa-envelope"></i> Cargar Correos
                        </button>
                    </div>
                    
                    <div id="inboxContent" style="margin-top: 30px;">
                        <!-- Los correos se cargarán aquí -->
                    </div>
                </div>
                
                <!-- Sección de Configuración -->
                <div id="settingsSection" style="display: none;">
                    <h2 style="color: var(--dark); margin-bottom: 30px;">
                        <i class="fas fa-cog"></i> Configuración
                    </h2>
                    
                    <div class="hotmail-section">
                        <h3 style="margin-bottom: 20px;">Configuración del Sistema</h3>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: bold;">Tiempo de sesión</label>
                            <select style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                                <option>30 minutos</option>
                                <option>1 hora</option>
                                <option>2 horas</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: bold;">Notificaciones</label>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <input type="checkbox" id="notifyEmails">
                                <label for="notifyEmails">Notificar nuevos correos</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="notifyDocuments">
                                <label for="notifyDocuments">Notificar documentos importantes</label>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" style="margin-top: 20px;">
                            <i class="fas fa-save"></i> Guardar Configuración
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ===== CONFIGURACIÓN =====
        const MASTER_PASSWORD = "30305090";
        let accounts = [];
        let emails = [];
        
        // ===== FUNCIONES DE LOGIN =====
        function handleEnterKey(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        }
        
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            
            if (password === MASTER_PASSWORD) {
                // Login exitoso
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';
                showNotification('success', 'Acceso concedido', 'Bienvenido al sistema de gestión Hotmail');
                loadSampleData();
            } else {
                alert('Clave incorrecta. La clave es: 30305090');
            }
        }
        
        function logout() {
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('passwordInput').value = '';
            showNotification('info', 'Sesión cerrada', 'Has salido del sistema');
        }
        
        // ===== FUNCIONES DE NAVEGACIÓN =====
        function showSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('#mainContent > div').forEach(section => {
                section.style.display = 'none';
            });
            
            // Mostrar la sección seleccionada
            document.getElementById(sectionId + 'Section').style.display = 'block';
            
            // Actualizar navegación activa
            document.querySelectorAll('.nav-item').forEach(item => {
                item.style.background = 'transparent';
            });
            event.target.style.background = 'rgba(255,255,255,0.1)';
        }
        
        // ===== CARGA DE ARCHIVOS =====
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.style.display = 'block';
            statusDiv.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando archivo...';
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const content = e.target.result;
                    parseHotmailFile(content);
                    
                    statusDiv.innerHTML = `<i class="fas fa-check" style="color: var(--success);"></i> Archivo cargado: ${accounts.length} hotmails`;
                    statusDiv.style.background = '#e7f5ff';
                    
                    setTimeout(() => {
                        statusDiv.style.display = 'none';
                        showSection('dashboard');
                        updateStats();
                        showNotification('success', 'Archivo cargado', `${accounts.length} hotmails cargados correctamente`);
                    }, 2000);
                    
                } catch (error) {
                    statusDiv.innerHTML = `<i class="fas fa-times" style="color: var(--danger);"></i> Error al procesar el archivo`;
                    statusDiv.style.background = '#ffe7e7';
                    console.error('Error:', error);
                }
            };
            
            reader.readAsText(file);
        }
        
        function parseHotmailFile(content) {
            const lines = content.split('\n');
            accounts = [];
            
            lines.forEach((line, index) => {
                line = line.trim();
                if (line && line.includes('|')) {
                    const [email, password] = line.split('|');
                    if (email && password && (email.includes('@hotmail.') || email.includes('@outlook.') || email.includes('@live.'))) {
                        accounts.push({
                            id: index + 1,
                            email: email.trim(),
                            password: password.trim(),
                            verified: false,
                            lastCheck: 'Nunca',
                            unread: Math.floor(Math.random() * 20),
                            documents: Math.floor(Math.random() * 10)
                        });
                    }
                }
            });
            
            // Si no hay cuentas, usar datos de ejemplo
            if (accounts.length === 0) {
                loadSampleData();
                showNotification('warning', 'Formato incorrecto', 'Usando datos de ejemplo. Asegúrate de usar: usuario@hotmail.com|contraseña');
            }
        }
        
        // ===== FUNCIONES DE HOTMAIL =====
        function checkAllHotmails() {
            if (accounts.length === 0) {
                showNotification('warning', 'Sin hotmails', 'Primero carga un archivo TXT con hotmails');
                return;
            }
            
            showNotification('info', 'Verificando hotmails', 'Procesando todas las cuentas...');
            
            // Simular verificación
            accounts.forEach((account, index) => {
                setTimeout(() => {
                    account.verified = Math.random() > 0.1;
                    account.lastCheck = new Date().toLocaleTimeString();
                    
                    if (index === accounts.length - 1) {
                        updateStats();
                        showNotification('success', 'Verificación completa', 
                            `${accounts.filter(a => a.verified).length} de ${accounts.length} hotmails verificados`);
                    }
                }, index * 100);
            });
        }
        
        function loadInbox() {
            if (accounts.length === 0) {
                showNotification('warning', 'Sin hotmails', 'Primero carga un archivo TXT con hotmails');
                return;
            }
            
            const inboxContent = document.getElementById('inboxContent');
            inboxContent.innerHTML = '';
            
            // Simular carga de correos
            showNotification('info', 'Cargando bandeja', 'Obteniendo correos recientes...');
            
            setTimeout(() => {
                let html = '';
                accounts.forEach(account => {
                    if (account.unread > 0) {
                        html += `
                            <div class="hotmail-section fade-in" style="margin-bottom: 20px;">
                                <div class="hotmail-header">
                                    <div class="hotmail-logo">
                                        <i class="fab fa-microsoft"></i>
                                    </div>
                                    <div style="flex: 1;">
                                        <h3>${account.email}</h3>
                                        <p style="color: #666;">${account.unread} correos no leídos</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <button onclick="viewHotmailDetails('${account.email}')" 
                                                style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                                            <i class="fas fa-eye"></i> Ver
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="inbox-grid">
                                    ${generateEmails(account.email)}
                                </div>
                            </div>
                        `;
                    }
                });
                
                inboxContent.innerHTML = html || '<p style="color: #666; text-align: center; padding: 40px;">No hay correos no leídos</p>';
                showNotification('success', 'Bandeja cargada', 'Correos actualizados correctamente');
                
            }, 1500);
        }
        
        function generateEmails(email) {
            const senders = [
                'SAT - Servicio de Administración Tributaria',
                'Microsoft Account Team',
                'Banco Nacional',
                'Proveedor Corporativo SA',
                'Departamento de Recursos Humanos',
                'Cliente Internacional',
                'Sistema de Facturación Electrónica'
            ];
            
            const subjects = [
                'Factura pendiente de pago',
                'Actualización de seguridad requerida',
                'Estado de cuenta - Revisión urgente',
                'Contrato por firmar',
                'Recordatorio de pago',
                'Nueva contraseña temporal',
                'Alerta de actividad inusual'
            ];
            
            let emailsHTML = '';
            const emailCount = Math.min(3, Math.floor(Math.random() * 5) + 1);
            
            for (let i = 0; i < emailCount; i++) {
                const daysAgo = Math.floor(Math.random() * 7);
                const date = new Date(Date.now() - daysAgo * 24 * 60 * 60 * 1000);
                
                emailsHTML += `
                    <div class="email-item" onclick="openEmail('${email}', ${i})">
                        <div class="email-sender">${senders[Math.floor(Math.random() * senders.length)]}</div>
                        <div class="email-subject">${subjects[Math.floor(Math.random() * subjects.length)]}</div>
                        <div class="email-preview">Revisa los documentos adjuntos para más información...</div>
                        <div class="email-date">${date.toLocaleDateString()}</div>
                    </div>
                `;
            }
            
            return emailsHTML;
        }
        
        function viewHotmailDetails(email) {
            const account = accounts.find(a => a.email === email);
            if (!account) return;
            
            const html = `
                <div style="background: white; border-radius: 15px; padding: 30px; max-width: 500px; margin: 20px auto;">
                    <h3 style="color: var(--dark); margin-bottom: 20px;">
                        <i class="fab fa-microsoft"></i> Detalles de Hotmail
                    </h3>
                    
                    <div style="margin-bottom: 20px;">
                        <p><strong>Correo:</strong> ${account.email}</p>
                        <p><strong>Estado:</strong> ${account.verified ? '<span style="color: var(--success);">Verificado</span>' : '<span style="color: var(--warning);">No verificado</span>'}</p>
                        <p><strong>Última verificación:</strong> ${account.lastCheck}</p>
                        <p><strong>Correos no leídos:</strong> ${account.unread}</p>
                        <p><strong>Documentos detectados:</strong> ${account.documents}</p>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <button onclick="markAsRead('${email}')" style="flex: 1; background: var(--success); color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-check"></i> Marcar como leído
                        </button>
                        <button onclick="closeDetails()" style="flex: 1; background: #666; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-times"></i> Cerrar
                        </button>
                    </div>
                </div>
            `;
            
            // Mostrar modal
            showModal('Detalles del Hotmail', html);
        }
        
        function openEmail(email, index) {
            const html = `
                <div style="background: white; border-radius: 15px; padding: 30px;">
                    <h3 style="color: var(--dark); margin-bottom: 20px;">
                        <i class="fas fa-envelope"></i> Correo importante
                    </h3>
                    
                    <div style="margin-bottom: 20px;">
                        <p><strong>De:</strong> SAT - Servicio de Administración Tributaria</p>
                        <p><strong>Para:</strong> ${email}</p>
                        <p><strong>Asunto:</strong> Factura pendiente de pago</p>
                        <p><strong>Fecha:</strong> ${new Date().toLocaleDateString()}</p>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <p>Estimado usuario,</p>
                        <p>Le informamos que tiene una factura pendiente de pago por el monto de $${(Math.random() * 5000 + 1000).toFixed(2)}.</p>
                        <p>Fecha límite: ${new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString()}</p>
                        <p>Por favor, realice el pago a la brevedad para evitar recargos.</p>
                        <p>Atentamente,<br>Departamento de Cobranza</p>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: 30px;">
                        <button onclick="markEmailAsRead('${email}', ${index})" style="flex: 1; background: var(--success); color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-check"></i> Marcar como procesado
                        </button>
                        <button onclick="closeModal()" style="flex: 1; background: #666; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-times"></i> Cerrar
                        </button>
                    </div>
                </div>
            `;
            
            showModal('Correo electrónico', html);
        }
        
        // ===== FUNCIONES DE UTILIDAD =====
        function loadSampleData() {
            accounts = [
                {
                    id: 1,
                    email: 'admin@hotmail.com',
                    password: 'Contraseña123',
                    verified: true,
                    lastCheck: 'Hoy 10:30',
                    unread: 5,
                    documents: 3
                },
                {
                    id: 2,
                    email: 'contabilidad@outlook.com',
                    password: 'Clave456',
                    verified: true,
                    lastCheck: 'Hoy 11:15',
                    unread: 12,
                    documents: 8
                },
                {
                    id: 3,
                    email: 'ventas@live.com',
                    password: 'Password789',
                    verified: false,
                    lastCheck: 'Ayer 15:45',
                    unread: 3,
                    documents: 1
                },
                {
                    id: 4,
                    email: 'soporte@hotmail.com',
                    password: 'Support2024',
                    verified: true,
                    lastCheck: 'Hoy 09:20',
                    unread: 7,
                    documents: 4
                },
                {
                    id: 5,
                    email: 'gerencia@outlook.com',
                    password: 'AdminSecure',
                    verified: true,
                    lastCheck: 'Hoy 14:30',
                    unread: 2,
                    documents: 6
                }
            ];
            
            updateStats();
            showNotification('success', 'Datos de ejemplo', '5 cuentas Hotmail cargadas para demostración');
        }
        
        function updateStats() {
            document.getElementById('totalAccounts').textContent = accounts.length;
            document.getElementById('verifiedAccounts').textContent = accounts.filter(a => a.verified).length;
            document.getElementById('unreadEmails').textContent = accounts.reduce((sum, a) => sum + a.unread, 0);
        }
        
        function showNotification(type, title, message) {
            // Crear notificación
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 10001;
                min-width: 300px;
                border-left: 5px solid ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--danger)' : 'var(--primary)'};
                animation: fadeIn 0.3s ease;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}" 
                       style="color: ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--danger)' : 'var(--primary)'}; font-size: 1.5rem;"></i>
                    <div>
                        <h4 style="margin: 0 0 5px 0; color: var(--dark);">${title}</h4>
                        <p style="margin: 0; color: #666;">${message}</p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Remover después de 3 segundos
            setTimeout(() => {
                notification.style.animation = 'fadeIn 0.3s ease reverse';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        function showModal(title, content) {
            // Crear overlay
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                z-index: 10002;
                display: flex;
                justify-content: center;
                align-items: center;
                animation: fadeIn 0.3s ease;
            `;
            
            // Crear modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                background: white;
                border-radius: 15px;
                max-width: 90%;
                max-height: 90vh;
                overflow-y: auto;
                animation: fadeIn 0.3s ease;
            `;
            
            modal.innerHTML = `
                <div style="padding: 30px;">
                    <h3 style="color: var(--dark); margin-bottom: 20px;">${title}</h3>
                    ${content}
                </div>
            `;
            
            overlay.appendChild(modal);
            overlay.onclick = function(e) {
                if (e.target === overlay) {
                    closeModal();
                }
            };
            
            document.body.appendChild(overlay);
            window.currentModal = overlay;
        }
        
        function closeModal() {
            if (window.currentModal) {
                window.currentModal.remove();
            }
        }
        
        function closeDetails() {
            closeModal();
        }
        
        function markAsRead(email) {
            const account = accounts.find(a => a.email === email);
            if (account) {
                account.unread = 0;
                updateStats();
                showNotification('success', 'Correos marcados', 'Todos los correos han sido marcados como leídos');
                closeModal();
            }
        }
        
        function markEmailAsRead(email, index) {
            const account = accounts.find(a => a.email === email);
            if (account && account.unread > 0) {
                account.unread--;
                updateStats();
                showNotification('success', 'Correo procesado', 'El correo ha sido marcado como leído');
                closeModal();
            }
        }
        
        // ===== INICIALIZACIÓN =====
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar estadísticas
            updateStats();
            
            // Hacer que el input de contraseña sea más fácil de usar
            document.getElementById('passwordInput').focus();
        });
    </script>
</body>
</html>
